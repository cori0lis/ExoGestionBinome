{% extends 'base.html.twig' %}

{% block contenu %}
	<a type="button" href="{{ path('formation')}}" class="btn" style="padding-left: 0;">
		<i class="fas fa-arrow-left" style="font-size: 3rem"></i>
	</a>
		<h1>Details Formation</h1>
	<table>
		<tr>
			<th>Nom :</th>
			<td>{{ formation.nom }}</td>
		</tr>
		<tr>
			<th>Description :</th>
			<td>{{ formation.description }}</td>
		</tr>
	</table>
<h2>Liste des modules :</h2>

<table class="table">
		<tr>
			<th>NOM</th>
			{# <th>CATEGORIE</th> #}
			<th>NOMBRE JOURS</th>
			{# <th>SESSIONS</th> #}
			{# <th>DUREE</th> #}
			{# <th>MODULES</th> #}
			{# <th>FORMATEUR</th> #}
				{# {% if is_granted('ROLE_ADMIN') %}<th>Modifier
				</th><th>Supprimer
			</th>
		{% endif %} #}
	</tr>
	</thead>
		<tbody>
			{% for module in formation.durees %}
				<tr class="clickabletablerow" onclick="window.location='{{ path('module_show', {'id':module.modules.id}) }}';">
				{# <td>{{ module.categorie }}</td> #}
				<td>{{ module.modules.nom }}</td>
				{# <td>{{ module.sessions }}</td> #}
				<td>{{ module.nbJours }}</td>
				{# <td>{{ module.modules }}</td> #}
				{# <td>{{ module.formateur }}</td> #}
				{# {% if is_granted('ROLE_ADMIN') %}
					<td>
						<a type="button" class="btn btn-warning" href="{{ path('module_edit', {'id':module.id}) }}">Modifier</a>
					</td>
					<td>
						<a type="button" onclick="return checkDelete()" class="btn btn-danger" href="{{ path('module_delete', {'id':module.id}) }}">Supprimer</a>
					</td>
				{% endif %} #}
			</tr>
		{% endfor %}
	</tbody>
</table>

{# <a class="btn btn-warning btn-sm" href="{​​​​​{​​​​​ path('add_duree', {​​​​​'id': formation.id}​​​​​) }​​​​​} ​​​​​"role="button"> Modifier les modules </a> #}

	{% if is_granted('ROLE_ADMIN') %}
<a type="button" class="btn btn-warning" href="{{ path('add_duree', {'id': formation.id}) }}">Modifier Module dans Formation</a>
	<a type="button" class="btn btn-warning" href="{{ path('formation_edit', {'id':formation.id}) }}">Modifier Formation</a>
	<a type="button" onclick="return checkDelete()" class="btn btn-danger" href="{{ path('formation_delete', {'id':formation.id}) }}">Supprimer la formation</a>
	{% endif %}
	<script language="JavaScript" type="text/javascript">
		// https://stackoverflow.com/questions/19022176/confirm-button-before-running-deleting-routine-from-website
// https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_confirm3
function checkDelete() {
return confirm('Appuyez sur OK pour supprimer.\nSinon veuillez Annuler');
}
// ATTENTION QUAND CANCEL LE ONCLICK DU <tr> EST QUAND MEME ACTIVE
document.getElementById("coloredselect2").style.background = "yellow";
document.getElementById("coloredselect2").style.color = "black";
</script>
{% endblock %}
