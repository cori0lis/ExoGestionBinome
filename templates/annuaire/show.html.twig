{% extends 'base.html.twig' %}

{% block contenu %}
	<a type="button" href="{{ path('annuaire')}}" class="btn" style="padding-left: 0;">
		<i class="fas fa-arrow-left" style="font-size: 3rem"></i>
	</a>
	{# <p>Nom : {{ utilisateur.nom ~ ' ' ~ utilisateur.prenom }}</p> #}
	{# <p>Civilité :{{ utilisateur.civilite }}</p> #}
	{# <p>Adresse mail : <a href="mailto:{{ utilisateur.email }}">{{ utilisateur.email }}</a></p> #}
	{# <p>Téléphone : {{ utilisateur.telephone }}</p> #}
	{# <p>Date de naissance : {{ utilisateur.dateNaissance | date ('d/m/Y') }}</p> #}
	{# <p>Ville : {{ utilisateur.ville }}</p> #}
	{# <p>Adresse : {{ utilisateur.adresse }}</p> #}
	{# <p>Code Postal : {{ utilisateur.cp }}</p> #}
{# 
<div class="card" style="width: 18rem;">
  <img class="card-img-top" src="..." alt="Card image cap">
  <div class="card-body">
    <h5 class="card-title">Card title</h5>
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
  <ul class="list-group list-group-flush">
    <li class="list-group-item">Cras justo odio</li>
    <li class="list-group-item">Dapibus ac facilisis in</li>
    <li class="list-group-item">Vestibulum at eros</li>
  </ul>
  <div class="card-body">
    <a href="#" class="card-link">Card link</a>
    <a href="#" class="card-link">Another link</a>
  </div>
</div> #}

		<table>
			<tr>
				<th>
			Nom :
			</th>
				<td>
			{{ utilisateur.nom ~ ' ' ~ utilisateur.prenom }}
		</td>
		</tr>
			<tr>
				<th>
			Role :
			</th>
				<td>
				{# {{ utilisateur.getRoles }} #}
					{% if ('ROLE_SUPER_ADMIN' in utilisateur.getroles(TRUE)) %}
					Direction
				{% elseif ('ROLE_ADMIN' in utilisateur.getroles(TRUE)) %}
					Secrétaire
				{% elseif ('ROLE_USER' in utilisateur.getroles(TRUE)) %}
					Formateur
				{% endif %}
			</td>
		</tr>
		<tr>
			<th>
				Civilité :
			</th>
			<td>
				{{ utilisateur.civilite }}
			</td>
		</tr>
		<tr>
			<th>
				Adresse mail :
			</th>
			<td>
				<a href="mailto:{{ utilisateur.email }}">
					{{ utilisateur.email }}</a>
			</td>
		</tr>
		<tr>
			<th>Téléphone :</th>
			<td>{{ utilisateur.telephone }}</td>
		</tr>
		<tr>
			<th>Date de naissance :</th>
			<td>{{ utilisateur.dateNaissance | date ('d/m/Y') }}</td>
		</tr>
		<tr>
			<th>Ville :</th>
			<td>{{ utilisateur.ville }}</td>
		</tr>
		<tr>
			<th>Adresse :</th>
			<td>{{ utilisateur.adresse }}</td>
		</tr>
		<tr>
			<th>Code Postal :</th>
			<td>{{ utilisateur.cp }}</td>
		</tr>
	</table>
	{% if app.user.id == utilisateur.id %}
		<a type="button" class="btn btn-warning" href="{{ path('annuaire_edit', {'id':utilisateur.id}) }}">Modifier mon profil</a>
		<a type="button" class="btn btn-info" href="{{ path('app_changepassword', {'id':app.user.id}) }}">Modifier mon MDP</a>
	{% elseif is_granted('ROLE_ADMIN') %}
		<a type="button" class="btn btn-warning" href="{{ path('annuaire_edit', {'id':utilisateur.id}) }}">Modifier profil</a>
	{% endif %}
	{% if is_granted('ROLE_SUPER_ADMIN') %}
		<a type="button" onclick="return checkDelete()" class="btn btn-danger" href="{{ path('annuaire_delete', {'id':utilisateur.id}) }}">Supprimer l'employé</a>
	{% endif %}
	<script language="JavaScript" type="text/javascript">
		// https://stackoverflow.com/questions/19022176/confirm-button-before-running-deleting-routine-from-website
// https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_confirm3
function checkDelete() {
return confirm('Appuyez sur OK pour supprimer.\nSinon veuillez Annuler');
}
// ATTENTION QUAND CANCEL LE ONCLICK DU <tr> EST QUAND MEME ACTIVE
	</script>
{% endblock %}
